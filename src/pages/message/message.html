<!--
  Generated template for the MessagePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar hideBackButton>
    <ion-buttons start>
      <button ion-button icon-only (click)="back()">
        <ion-icon name="arrow-back" color="secondary"></ion-icon>
      </button>
    </ion-buttons>
  
    <ion-title>{{neighbourData.firstName}}</ion-title>
  </ion-navbar>


</ion-header>


<ion-content #content>
  <ion-item no-lines *ngFor="let chat of chats; let i = index" text-wrap>
    <div class= "userchatmsg"  *ngIf="chat.sentby == neighbourData.uId">
        <ion-avatar item-start style="display: inline-block;float: left;">
          <img [src]="neighbourData.profileurl">
        </ion-avatar>
        <span *ngIf="chat.type == 'text'" class="userchatmsg left-msg">
          {{chat.message}}
        </span>
        <img class="chatimage" src="{{chat.message}}" *ngIf="chat.type == 'image'">
        
    </div>

    <div class="userchatmsg" *ngIf="chat.sentby == userId" style="float: right;">
      <ion-avatar item-end style="display: inline-block;float: right;">
        <img [src]="userProfile">
      </ion-avatar>
    <span *ngIf="chat.type == 'text'" class="userchatmsg right-msg">
      {{chat.message}}</span>
    <img class="chatimage" src="{{chat.message}}" *ngIf="chat.type == 'image'">
    </div>
  </ion-item>
  

</ion-content>
<ion-footer>
  <ion-row align-items-center>
    <ion-col col-1 style="text-align:center" (click)="uploadPic()">
      <ion-icon class="attachicon" name="attach"></ion-icon>
    </ion-col>
    <ion-col col-8>
      <ion-item no-lines class="footer">
        <ion-input type="text" [(ngModel)]="chat" placeholder="New Message"></ion-input>
      </ion-item>
    </ion-col>
    <ion-col col-3>
        <button ion-button clear (click)="addnewmessage(chat,'text')">Send</button>
    </ion-col>
  </ion-row>

</ion-footer>
