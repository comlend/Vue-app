<ion-header>

  <ion-navbar>
    <ion-title>MESSAGES</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
	<ion-searchbar [(ngModel)]="searchQuery" [showCancelButton]="shouldShowCancel" (ionInput)="onSearchInput($event)" (ionCancel)="onSearchCancel($event)"></ion-searchbar>

	<div *ngIf="chats.length > 0">
		<ion-list class="firstitem">
			<ion-item *ngFor="let chat of chats" (click)="goToChatPage(chat)">
				<ion-avatar item-start id="badge-container">
					<img src="{{ chat.receiverData.profileurl }}">
					<ion-badge id="badge" *ngIf="chat.unreadMessages > 0" item-end>{{ chat.unreadMessages }}</ion-badge>
				</ion-avatar>
				<h5>{{ chat.receiverData.firstName }} {{ chat.receiverData.lastName }}</h5>
				<p>{{ chat.lastMsg }}</p> {{chat.status}}
			</ion-item>
		</ion-list>
	</div>	
	<div *ngIf="chats.length == 0">
		<div class="firstitem" text-center>
			<h5>No Conversations</h5>
		</div>
	</div>
</ion-content>
